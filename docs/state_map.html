<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Measles Data Visualization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        body {
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: white;
            font-family: Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-overflow-scrolling: touch;
        }
        
        #chart {
            width: 100%;
            min-height: 100vh;
            position: relative;
        }
        
        /* Force Plotly to be responsive */
        .plotly-graph-div {
            width: 100% !important;
            height: auto !important;
            min-height: 400px;
        }
        
        .js-plotly-plot {
            width: 100% !important;
        }
        
        /* Make SVG responsive */
        .plotly .svg-container {
            width: 100% !important;
            height: 100% !important;
        }
        
        .plotly .main-svg {
            width: 100% !important;
            height: 100% !important;
        }
        
        /* Scale down text on mobile */
        @media screen and (max-width: 768px) {
            .plotly text {
                font-size: 10px !important;
            }
            
            .plotly .xtick text,
            .plotly .ytick text {
                font-size: 9px !important;
            }
            
            .plotly .legendtext {
                font-size: 10px !important;
            }
            
            .plotly .annotation-text {
                font-size: 9px !important;
            }
            
            /* Hide mode bar on mobile */
            .modebar {
                display: none !important;
            }
            
            /* Adjust legend spacing */
            .legend {
                transform: scale(0.9);
                transform-origin: left top;
            }
            
            .plotly-graph-div {
                min-height: 350px;
            }
        }
        
        /* Extra small screens */
        @media screen and (max-width: 480px) {
            .plotly text {
                font-size: 8px !important;
            }
            
            .plotly .xtick text,
            .plotly .ytick text {
                font-size: 7px !important;
            }
            
            .plotly .legendtext {
                font-size: 8px !important;
            }
            
            .plotly .annotation-text {
                font-size: 7px !important;
                max-width: 100px;
                word-wrap: break-word;
            }
            
            /* Scale down legend even more */
            .legend {
                transform: scale(0.8);
                transform-origin: left top;
            }
            
            .plotly-graph-div {
                min-height: 300px;
            }
        }
        
        /* Landscape mobile */
        @media screen and (max-width: 896px) and (orientation: landscape) {
            #chart {
                min-height: 100vh;
            }
            
            .plotly-graph-div {
                min-height: 90vh;
            }
        }
        
        /* Tablet adjustments */
        @media screen and (min-width: 769px) and (max-width: 1024px) {
            .plotly text {
                font-size: 11px !important;
            }
            
            .plotly .legendtext {
                font-size: 11px !important;
            }
        }
        
        /* Loading indicator */
        #chart:empty::before {
            content: "Loading visualization...";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #666;
            font-size: 16px;
        }
        
        /* Prevent text selection issues on mobile */
        .plotly {
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Improve touch interaction */
        .plotly .nsewdrag {
            cursor: pointer !important;
        }
    </style>
</head>
<body>
    <html>
<head><meta charset="utf-8" /></head>
<body>
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="chart" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("chart")) {                    Plotly.newPlot(                        "chart",                        [{"colorscale":[[0,"#E0E0E0"],[1,"#E0E0E0"]],"customdata":[["Montana",2.85,32,1122069],["West Virginia",0.0,0,1770071]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: Missing Data\u003cbr\u003eCase Rate: %{customdata[1]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[2]}\u003cbr\u003ePopulation: %{customdata[3]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["MT","WV"],"marker":{"line":{"color":"white","width":0.5}},"name":"Missing Data","showlegend":false,"showscale":false,"z":[1,1],"type":"choropleth"},{"colorscale":[[0,"#d73027"],[1,"#d73027"]],"customdata":[["Kansas",91.0,3.06,90,"High Cases, Low Vaccination",2940865],["North Dakota",90.0,4.59,36,"High Cases, Low Vaccination",783926]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["KS","ND"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1,1],"type":"choropleth"},{"colorscale":[[0,"#f46d43"],[1,"#f46d43"]],"customdata":[["New Mexico",94.8,4.73,100,"High Cases, Medium Vaccination",2114371]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["NM"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1],"type":"choropleth"},{"colorscale":[[0,"#fee090"],[1,"#fee090"]],"customdata":[["South Dakota",90.0,1.31,12,"Medium Cases, Low Vaccination",919318],["Utah",88.6,1.64,56,"Medium Cases, Low Vaccination",3417734]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["SD","UT"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1,1],"type":"choropleth"},{"colorscale":[[0,"#ffffbf"],[1,"#ffffbf"]],"customdata":[["Texas",93.2,2.63,803,"Medium Cases, Medium Vaccination",30503301],["Wyoming",93.6,1.54,9,"Medium Cases, Medium Vaccination",584057]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["TX","WY"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1,1],"type":"choropleth"},{"colorscale":[[0,"#abd9e9"],[1,"#abd9e9"]],"customdata":[["Alaska",81.2,0.41,3,"Low Cases, Low Vaccination",733406],["Arizona",88.6,1.0,74,"Low Cases, Low Vaccination",7431344],["Arkansas",89.6,0.26,8,"Low Cases, Low Vaccination",3067732],["Colorado",88.0,0.46,27,"Low Cases, Low Vaccination",5877610],["Florida",88.8,0.03,6,"Low Cases, Low Vaccination",23244842],["Georgia",86.8,0.09,10,"Low Cases, Low Vaccination",11029227],["Hawaii",89.9,0.14,2,"Low Cases, Low Vaccination",1435138],["Idaho",78.5,0.15,3,"Low Cases, Low Vaccination",1964726],["Illinois",91.8,0.1,12,"Low Cases, Low Vaccination",12569321],["Indiana",90.8,0.12,8,"Low Cases, Low Vaccination",6862199],["Iowa",88.8,0.25,8,"Low Cases, Low Vaccination",3207004],["Kentucky",86.9,0.29,13,"Low Cases, Low Vaccination",4555777],["Michigan",91.6,0.28,28,"Low Cases, Low Vaccination",10037261],["Minnesota",86.5,0.35,20,"Low Cases, Low Vaccination",5757976],["Missouri",90.0,0.1,6,"Low Cases, Low Vaccination",6196357],["Nevada",91.3,0.0,0,"Low Cases, Low Vaccination",3194176],["New Hampshire",89.2,0.0,0,"Low Cases, Low Vaccination",1402054],["Ohio",88.3,0.32,38,"Low Cases, Low Vaccination",11785935],["Oklahoma",88.7,0.42,17,"Low Cases, Low Vaccination",4019800],["Oregon",90.5,0.02,1,"Low Cases, Low Vaccination",4233358],["South Carolina",91.2,0.3,16,"Low Cases, Low Vaccination",5373555],["Washington",90.9,0.13,10,"Low Cases, Low Vaccination",7812880],["Wisconsin",84.8,0.61,36,"Low Cases, Low Vaccination",5910955]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["AK","AZ","AR","CO","FL","GA","HI","ID","IL","IN","IA","KY","MI","MN","MO","NV","NH","OH","OK","OR","SC","WA","WI"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"type":"choropleth"},{"colorscale":[[0,"#74add1"],[1,"#74add1"]],"customdata":[["Alabama",95.2,0.02,1,"Low Cases, Medium Vaccination",5108468],["Delaware",94.1,0.0,0,"Low Cases, Medium Vaccination",1031890],["Louisiana",92.6,0.04,2,"Low Cases, Medium Vaccination",4573749],["Nebraska",94.2,0.05,1,"Low Cases, Medium Vaccination",1988536],["New Jersey",92.8,0.11,10,"Low Cases, Medium Vaccination",9290841],["North Carolina",94.2,0.0,0,"Low Cases, Medium Vaccination",10835491],["Pennsylvania",92.4,0.12,16,"Low Cases, Medium Vaccination",12972008],["Tennessee",94.4,0.1,7,"Low Cases, Medium Vaccination",7126489],["Vermont",93.5,0.31,2,"Low Cases, Medium Vaccination",647464],["Virginia",95.6,0.05,4,"Low Cases, Medium Vaccination",8715698]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["AL","DE","LA","NE","NJ","NC","PA","TN","VT","VA"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1,1,1,1,1,1,1,1,1,1],"type":"choropleth"},{"colorscale":[[0,"#4575b4"],[1,"#4575b4"]],"customdata":[["California",96.1,0.06,22,"Low Cases, High Vaccination",38965193],["Connecticut",98.2,0.0,0,"Low Cases, High Vaccination",3617176],["Maine",97.6,0.0,0,"Low Cases, High Vaccination",1395722],["Maryland",96.4,0.05,3,"Low Cases, High Vaccination",6164660],["Massachusetts",96.6,0.0,0,"Low Cases, High Vaccination",7001399],["Mississippi",97.6,0.0,0,"Low Cases, High Vaccination",2940057],["New York",97.8,0.04,7,"Low Cases, High Vaccination",19299981],["Rhode Island",96.7,0.09,1,"Low Cases, High Vaccination",1095962]],"hovertemplate":"\u003cb\u003e%{customdata[0]}\u003c\u002fb\u003e\u003cbr\u003eClassification: %{customdata[4]}\u003cbr\u003eMMR Coverage: %{customdata[1]:.1f}%\u003cbr\u003eCase Rate: %{customdata[2]:.1f} per 100K\u003cbr\u003eTotal Cases: %{customdata[3]}\u003cbr\u003ePopulation: %{customdata[5]:,}\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","locationmode":"USA-states","locations":["CA","CT","ME","MD","MA","MS","NY","RI"],"marker":{"line":{"color":"white","width":0.5}},"showlegend":false,"showscale":false,"z":[1,1,1,1,1,1,1,1],"type":"choropleth"},{"hoverinfo":"skip","lat":[32.78,64.0,34.29,34.97,39.06,39.0,27.77,32.99,21.31,43.68,40.42,40.3,41.88,37.84,31.17,44.18,46.39,38.57,46.92,41.5,39.33,43.45,40.06,34.84,35.63,40.42,35.56,43.98,40.59,33.91,44.35,35.75,31.17,40.15,44.04,37.77,47.4,38.49,43.78,43.08],"lon":[-86.87,-153.31,-111.57,-92.37,-105.51,-75.5,-81.69,-83.64,-157.86,-114.58,-89.37,-86.44,-93.09,-84.27,-91.87,-84.54,-93.9,-92.28,-109.45,-99.9,-116.94,-71.56,-74.52,-106.24,-79.8,-82.77,-96.93,-120.57,-77.2,-80.95,-99.9,-86.69,-98.77,-111.89,-72.71,-78.47,-121.75,-80.95,-89.99,-107.55],"mode":"text","showlegend":false,"text":["AL","AK","AZ","AR","CO","DE","FL","GA","HI","ID","IL","IN","IA","KY","LA","MI","MN","MO","MT","NE","NV","NH","NJ","NM","NC","OH","OK","OR","PA","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],"textfont":{"color":"black","family":"Arial","size":10},"type":"scattergeo"},{"hoverinfo":"skip","lat":[36.78,41.6,38.53,45.37,39.05,42.34,32.74,42.94,47.53,41.7],"lon":[-119.42,-72.76,-98.58,-69.39,-76.59,-71.72,-89.87,-75.5,-100.34,-71.51],"mode":"text","showlegend":false,"text":["CA","CT","KS","ME","MD","MA","MS","NY","ND","RI"],"textfont":{"color":"white","family":"Arial","size":10},"type":"scattergeo"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"geo":{"domain":{"x":[0,1.0],"y":[0.0,1.0]},"scope":"usa","projection":{"type":"albers usa"},"showlakes":true,"lakecolor":"rgb(255, 255, 255)"},"font":{"family":"Arial, sans-serif","size":12},"margin":{"l":0,"r":0,"t":0,"b":0},"plot_bgcolor":"white","paper_bgcolor":"white","autosize":true,"shapes":[{"fillcolor":"#d73027","line":{"color":"white","width":1},"type":"rect","x0":0.03,"x1":0.062,"xref":"paper","y0":0.8879999999999999,"y1":0.9249999999999999,"yref":"paper"},{"fillcolor":"#f46d43","line":{"color":"white","width":1},"type":"rect","x0":0.067,"x1":0.099,"xref":"paper","y0":0.8879999999999999,"y1":0.9249999999999999,"yref":"paper"},{"fillcolor":"#fdae61","line":{"color":"white","width":1},"type":"rect","x0":0.104,"x1":0.136,"xref":"paper","y0":0.8879999999999999,"y1":0.9249999999999999,"yref":"paper"},{"fillcolor":"#fee090","line":{"color":"white","width":1},"type":"rect","x0":0.03,"x1":0.062,"xref":"paper","y0":0.851,"y1":0.8879999999999999,"yref":"paper"},{"fillcolor":"#ffffbf","line":{"color":"white","width":1},"type":"rect","x0":0.067,"x1":0.099,"xref":"paper","y0":0.851,"y1":0.8879999999999999,"yref":"paper"},{"fillcolor":"#e0f3f8","line":{"color":"white","width":1},"type":"rect","x0":0.104,"x1":0.136,"xref":"paper","y0":0.851,"y1":0.8879999999999999,"yref":"paper"},{"fillcolor":"#abd9e9","line":{"color":"white","width":1},"type":"rect","x0":0.03,"x1":0.062,"xref":"paper","y0":0.814,"y1":0.851,"yref":"paper"},{"fillcolor":"#74add1","line":{"color":"white","width":1},"type":"rect","x0":0.067,"x1":0.099,"xref":"paper","y0":0.814,"y1":0.851,"yref":"paper"},{"fillcolor":"#4575b4","line":{"color":"white","width":1},"type":"rect","x0":0.104,"x1":0.136,"xref":"paper","y0":0.814,"y1":0.851,"yref":"paper"},{"fillcolor":"#E0E0E0","line":{"color":"white","width":1},"type":"rect","x0":0.03,"x1":0.062,"xref":"paper","y0":0.7769999999999999,"y1":0.814,"yref":"paper"}],"annotations":[{"font":{"color":"black","size":14},"showarrow":false,"text":"Missing Data","x":0.067,"xanchor":"left","xref":"paper","y":0.7955,"yanchor":"middle","yref":"paper"},{"font":{"color":"black","family":"Arial","size":14},"showarrow":false,"text":"\u2190 MMR Vaccine Coverage \u2192","x":0.08549999999999999,"xanchor":"center","xref":"paper","y":0.945,"yanchor":"bottom","yref":"paper"},{"font":{"color":"black","family":"Arial","size":14},"showarrow":false,"text":"\u2190 Case Rate \u2192","textangle":90,"x":0.017,"xanchor":"center","xref":"paper","y":0.8744999999999999,"yanchor":"middle","yref":"paper"},{"align":"left","font":{"color":"gray","size":10},"showarrow":false,"text":"\u003cb\u003eLast refreshed:\u003c\u002fb\u003e October 16, 2025 at 10:51 PM\u003cbr\u003e\u003ci\u003eNote: Grey states are missing vaccination coverage data from the 2024-2025 school year\u003c\u002fi\u003e","x":0.02,"xanchor":"left","xref":"paper","y":0.02,"yanchor":"bottom","yref":"paper"}]},                        {"displayModeBar": false, "responsive": true, "displaylogo": false, "autosizable": true}                    )                };            </script>        </div>
</body>
</html>
    
    <script>
        // Enhanced responsive behavior
        (function() {
            var resizeTimer;
            var gd = document.getElementById('chart');
            
            // Function to properly resize chart
            function resizeChart() {
                if (gd && gd.layout) {
                    try {
                        // Get current dimensions
                        var width = window.innerWidth;
                        var height = Math.max(window.innerHeight, 400);
                        
                        // Update layout for current screen size
                        var update = {};
                        
                        // Adjust margins for mobile
                        if (width < 768) {
                            update.margin = {
                                l: 40,
                                r: 40,
                                t: 60,
                                b: 80
                            };
                            
                            // Adjust font sizes
                            update.font = {
                                size: 10
                            };
                            
                            if (gd.layout.xaxis) {
                                update['xaxis.title.font.size'] = 11;
                                update['xaxis.tickfont.size'] = 9;
                            }
                            
                            if (gd.layout.yaxis) {
                                update['yaxis.title.font.size'] = 11;
                                update['yaxis.tickfont.size'] = 9;
                            }
                            
                            // Adjust legend
                            if (gd.layout.legend) {
                                update['legend.font.size'] = 9;
                            }
                        } else if (width < 480) {
                            update.margin = {
                                l: 30,
                                r: 30,
                                t: 50,
                                b: 70
                            };
                            
                            update.font = {
                                size: 8
                            };
                        }
                        
                        // Apply updates
                        Plotly.relayout(gd, update);
                        Plotly.Plots.resize(gd);
                    } catch (e) {
                        console.error('Error resizing chart:', e);
                    }
                }
            }
            
            // Debounced resize handler
            function handleResize() {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(resizeChart, 250);
            }
            
            // Listen for resize events
            window.addEventListener('resize', handleResize);
            
            // Listen for orientation changes
            window.addEventListener('orientationchange', function() {
                setTimeout(resizeChart, 300);
            });
            
            // Initial resize on load
            window.addEventListener('load', function() {
                setTimeout(resizeChart, 100);
            });
            
            // Watch for when Plotly finishes rendering
            if (gd) {
                gd.on('plotly_afterplot', function() {
                    setTimeout(resizeChart, 100);
                });
            }
            
            // Handle visibility changes (when switching tabs)
            document.addEventListener('visibilitychange', function() {
                if (!document.hidden) {
                    setTimeout(resizeChart, 100);
                }
            });
            
            // For iframes: listen for parent window messages
            window.addEventListener('message', function(event) {
                if (event.data === 'resize') {
                    resizeChart();
                }
            });
        })();
    </script>
</body>
</html>